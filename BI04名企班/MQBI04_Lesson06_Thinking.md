# Q1:什么是近似最近邻查找，常用的方法有哪些？

## A1:

+ ANN，Approximate Nearest Neighbor，近似最近邻检索，在牺牲可接受范围内的精度的情况下提高检索效率。在对庞大的数据量以及数据库中高维的数据信息进行检索时仍能保持可接受的检索时间和检索效果。
+ 常用方法:
  + MinHashLSH，适用于短文本。在MinHash基础上，将Signature向量分成多段(band)，即：分成b组，每组由r行组成；对每一组进行hash，各个组设置不同的桶空间。只要两列有一组的MinHash相同 ，那么这两列就会hash到同一个桶而成为候选项。
  + MinHashLSHForest，局部敏感随机投影森林。
    + 一棵随机投影树的建立步骤：随机选取一个从原点出发的向量，与这个向量垂直的直线把平面内的点一分为二，当点数量比较大的时候，继续划分；再随机选取一个向量，重复上述步骤。一直划分，直到每个叶子节点中点的数量足够小，即：将每次搜索与计算的点的数量减小到一个可接受的范围，就建成一棵随机投影树；
    + 建立多个随机投影树构成随机投影森林，将森林的综合结果作为最终的结果。
    + 支持返回top-k个近似邻居。
  + MinHashLSHEnsemble，计算相似度时，对大的集合进行惩罚，计算的是交集元素个数与自己集合元素总数的比， $containment = \frac{|Q \cap X|}{|Q|}$ 。
  + SimHashLSH，适用于长文本。
    + 汉明距离指两个二进制串中不同位的数量；
    + 向量相似度越高，对应的汉明距离越小；
    + 通过SimHash算法得到每篇文档的指纹，计算2个文档指纹的汉明距离，通常2篇文档汉明距离在3以内，则认为相似度比较好。

# Q2:为什么两个集合的minhash值相同的概率等于这两个集合的Jaccard相似度?

## A2:

+ 对于列C1和列C2，每一行的元素可以分为以下3类：
  
  a. 两列值都为1，比如：两列中都有元素‘g’；
  
  b. 其中一列的值为0，另外一列为1，代表只有一列中有元素‘g’；
  
  c. 两列的值都为0，代表2列中均没有出现元素‘g’；
  
+ 文档中出现相同文本的文本越多，则2个文档越相似，因此c类的情况对我们统计文档相似度没有意义，因此$C_1$, $C_2$的MinHash相等的概率：P($h(C_1) = h(C_2)$) = P(删掉c类后，第一个为a类的行号) = a类行的个数/所有行的个数 = a / (a+b) 

+ Jaccard相似度：计算交比并，即： 2个集合S1和S2中交集的元素个数比上2个集合的并集的元素个数。
  
  + 公式：

$$
Jac(X, Y) = \frac{|S_1 \cap S_2|}{|S_1 \cup S_2|}
$$

​	对于列C1和列C2，$C_1 \cap C_2$即为a类的行数，而$C_1 \cup C_2$即为b类的行数，因此两个集合的minhash值相同的概率等于这两个集合的Jaccard相似度。


# Q3:为什么YouTube采用期望观看时间作为评估指标

## A3:

+ 原因如下：
  + YouTube的利润来源主要来自视频广告，而广告的曝光机会与用户观看时长成正比 ，因此用户观看时长这个指标对YouTube尤为重要。
  + 不同的用户所观看的视频数量可能会不同，观看时长也会不同，所以为了用统一的架构来表示，故而用平均值来表示更准确些。
  + CTR指标对视频搜索具有一定的欺骗性，因此选择期望观看时间作为评估指标。

